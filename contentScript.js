(()=>{const e=e=>fetch(e).then((e=>e.blob())).then((e=>new Promise(((t,o)=>{const n=new FileReader;n.onloadend=()=>t(n.result),n.onerror=o,n.readAsDataURL(e)}))));function t(){const e=document.getElementsByTagName("head")[0],t=document.createElement("script");t.type="text/javascript",t.src=chrome.runtime.getURL("main.js"),t.id="gezel_youtube",e.appendChild(t);const o=document.createElement("link");o.rel="stylesheet",o.href=chrome.runtime.getURL("tailwind.css"),o.id="gezel_youtube_tailwind",e.appendChild(o);const n=document.createElement("link");n.rel="stylesheet",n.href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css",n.id="gezel_youtube_fontawesome",e.appendChild(n)}chrome.runtime.sendMessage({type:"get_ext_id"},(o=>{document.URL.includes("is_popout=1")?(localStorage.setItem("ytcr-notification","on"),e(`chrome-extension://${chrome.runtime.id}/icons/ytcr.png`).then((e=>{localStorage.setItem("ytcr_image",e),t()}))):(localStorage.removeItem("channel_points"),localStorage.removeItem("ytcr_user_channel_id"),localStorage.removeItem("ytcr_broadcater_channel_id"),localStorage.removeItem("ytcr_viewerName"),localStorage.setItem("ytcr-notification","YTCR_notification_on_No_Channel"),localStorage.setItem("ext_id_ytcr",o.data),e(`chrome-extension://${chrome.runtime.id}/icons/ytcr.png`).then((e=>{localStorage.setItem("ytcr_image",e),t()})))}))})();